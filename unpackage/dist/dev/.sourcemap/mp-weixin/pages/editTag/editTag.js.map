{"version":3,"sources":["uni-app:///main.js","webpack:///E:/微信小程序开发/微信小程序代码/bug修改成功/zhkt-xcx-master/zhkt-xcx/jiaoshiduan/pages/editTag/editTag.vue?f30a","webpack:///E:/微信小程序开发/微信小程序代码/bug修改成功/zhkt-xcx-master/zhkt-xcx/jiaoshiduan/pages/editTag/editTag.vue?579f","webpack:///E:/微信小程序开发/微信小程序代码/bug修改成功/zhkt-xcx-master/zhkt-xcx/jiaoshiduan/pages/editTag/editTag.vue?6451","webpack:///E:/微信小程序开发/微信小程序代码/bug修改成功/zhkt-xcx-master/zhkt-xcx/jiaoshiduan/pages/editTag/editTag.vue?f0e7","uni-app:///pages/editTag/editTag.vue","webpack:///E:/微信小程序开发/微信小程序代码/bug修改成功/zhkt-xcx-master/zhkt-xcx/jiaoshiduan/pages/editTag/editTag.vue?14c5","webpack:///E:/微信小程序开发/微信小程序代码/bug修改成功/zhkt-xcx-master/zhkt-xcx/jiaoshiduan/pages/editTag/editTag.vue?20ea"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,mG;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACsC;;;AAG5F;AACgL;AAChL,gBAAgB,yLAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAwpB,CAAgB,6qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8B5qB;AACA;AACA,+BADA,EADA;;AAIA,MAJA,kBAIA;AACA;AACA,uBADA;AAEA,qBAFA;AAGA,iBAHA;AAIA,mBAJA;AAKA,iBALA;AAMA,oBANA;AAOA;AACA,iBARA;AASA;AACA,iBAVA;AAWA;AACA,kBAZA;AAaA;AACA,qBAdA;AAeA;AACA,iBAhBA;AAiBA;AACA,oBAlBA;;AAoBA,GAzBA;AA0BA;AACA,mBADA,6BACA;AACA;AACA;AACA,sBADA;AAEA,2EAFA;AAGA;AACA,6CADA;AAEA,wCAFA,EAHA;;AAOA;AACA,4CADA;AAEA,sDAFA,EAPA;;AAWA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,4BAFA;;AAIA;AACA;AACA,WAPA,MAOA;AACA;AACA,mCADA;AAEA,0BAFA;;AAIA;AACA;AACA,SA5BA;;AA8BA,KAjCA;AAkCA,eAlCA,uBAkCA,CAlCA,EAkCA;AACA;AACA,KApCA;AAqCA,kBArCA,4BAqCA;AACA;AACA,0IADA;;AAGA,KAzCA;AA0CA,cA1CA,sBA0CA,GA1CA,EA0CA,MA1CA,EA0CA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA9DA;AA+DA,UA/DA,kBA+DA,KA/DA,EA+DA,KA/DA,EA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;;AAEA,SARA,MAQA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAvIA;AAwIA,mBAxIA,6BAwIA;AACA;AACA,qBADA;AAEA,2EAFA;AAGA;AACA,6CADA;AAEA,iDAFA,EAHA;;AAOA;AACA,4CADA;AAEA,sDAFA,EAPA;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAnBA,MAmBA;AACA;AACA,mCADA;AAEA,0BAFA;;AAIA;AACA;AACA,SAxCA;;AA0CA,KAnLA;AAoLA,cApLA,wBAoLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBADA;AAEA,4EAFA;AAGA;AACA,uCADA;AAEA,0CAFA;AAGA,6CAHA,EAHA;;AAQA;AACA,4CADA;AAEA,sDAFA,EARA;;AAYA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,4BAFA;;AAIA;AACA;AACA,wBADA;;AAGA,aAJA,EAIA,IAJA;;;AAOA,WAZA,MAYA;AACA;AACA,mCADA;AAEA,0BAFA;;AAIA;AACA;AACA,SAlCA;;AAoCA,KA/OA,EA1BA;;AA2QA,QA3QA,kBA2QA,GA3QA,EA2QA;AACA;AACA;AACA;AACA;AACA;AACA,GAjRA,E;;;;;;;;;;;;;AC9BA;AAAA;AAAA;AAAA;AAAouC,CAAgB,qsCAAG,EAAC,C;;;;;;;;;;;ACAxvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/editTag/editTag.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/editTag/editTag.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./editTag.vue?vue&type=template&id=961bbeb2&scoped=true&\"\nvar renderjs\nimport script from \"./editTag.vue?vue&type=script&lang=js&\"\nexport * from \"./editTag.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editTag.vue?vue&type=style&index=0&id=961bbeb2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"961bbeb2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/微信小程序开发/微信小程序代码/bug修改成功/zhkt-xcx-master/zhkt-xcx/jiaoshiduan/pages/editTag/editTag.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./editTag.vue?vue&type=template&id=961bbeb2&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./editTag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./editTag.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"addResource_content\">\r\n\t\t<view class=\"\">\r\n\t\t\t<view class=\"tagBox selectedTag\" v-for=\"(item,i) in RelaTagList\" :key=\"i\" @click=\"getTagInfo(item.TagId, i)\">\r\n\t\t\t\t{{item.TagName}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"addTag\">\r\n\t\t\t<input class=\"tabInput\" type=\"text\" value=\"\" placeholder=\"添加标签\" focus=\"true\" @input=\"tabInputVal\" @confirm=\"AddResourcesTag\" />\r\n\t\t</view>\r\n\t\t<view class=\"tagContent\">\r\n\t\t\t<view class=\"\">\r\n\t\t\t\t所有标签\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tagBox \" :class=\"it.is ?'selectedTag': ''\" v-for=\"(it,ind) in tagList\" :key=\"ind\" @click=\"AddTag(ind,it.TagId)\">\r\n\t\t\t\t{{it.TagName}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"addFileBox\">\r\n\t\t\t<view class=\"addFileBth\" @click=\"submitThis\">\r\n\t\t\t\t保存\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tuniSearchBar\r\n\t} from '@dcloudio/uni-ui'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniSearchBar\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tselectedTag: null,\r\n\t\t\t\tRelaTagList: [],\r\n\t\t\t\ttagList: [],\r\n\t\t\t\tChapterId: '',\r\n\t\t\t\tClassId: '',\r\n\t\t\t\taddTagName: '',\r\n\t\t\t\t// 已有的标签id （可更改）\r\n\t\t\t\tresTags: [],\r\n\t\t\t\t// 已有的标签id （不可更改）\r\n\t\t\t\ttagsRes: [],\r\n\t\t\t\t// 所有的标签id （可更改）\r\n\t\t\t\tbankTags: [],\r\n\t\t\t\t// 所有的标签id （不可更改）\r\n\t\t\t\tnewBankTags: [],\r\n\t\t\t\t// 新增的tag\r\n\t\t\t\taddTags: [],\r\n\t\t\t\t// 删除的tag\r\n\t\t\t\tdeleteTags: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tAddResourcesTag() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\turl: 'https://hk.joyfulboo.com/Campus/ResourcesApp/AddResourcesTag',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tResourcesId: that.$data.ResourcesId,\r\n\t\t\t\t\t\tTagName: that.$data.addTagName,\r\n\t\t\t\t\t},\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'content-type': \"application/json\",\r\n\t\t\t\t\t\t'Authorization': uni.getStorageSync('token'),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tlet result = res.data\r\n\t\t\t\t\t\tif (result.Success == true) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '添加成功',\r\n\t\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t// this.$data.tagList=result.Data\r\n\t\t\t\t\t\t\tthat.GetTagList()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: result.Message,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttabInputVal(e) {\r\n\t\t\t\tthis.$data.addTagName = e.detail.value\r\n\t\t\t},\r\n\t\t\tonResouresList() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `../uploadResoures/uploadResoures?TagId=${''}&ChapterId=${this.$data.ChapterId}&ClassId=${this.$data.ClassId}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetTagInfo (tag,indexs) {\r\n\t\t\t\tif (this.$data.bankTags.indexOf(tag) !== -1) {\r\n\t\t\t\t  if (this.$data.addTags.indexOf(tag) !== -1) {\r\n\t\t\t\t\tthis.$data.addTags.splice(this.$data.addTags.indexOf(tag), 1)\r\n\t\t\t\t  }\r\n\t\t\t\t} else {\r\n\t\t\t\t  this.$data.tagsBank.push(this.$data.RelaTagList[indexs])\r\n\t\t\t\t  this.$data.bankTags.push(tag)\r\n\t\t\t\t}\r\n\t\t\t\tthis.$data.RelaTagList.splice(indexs, 1)\r\n\t\t\t\tlet index\r\n\t\t\t\tfor (let k in this.$data.tagsRes) {\r\n\t\t\t\t  if (this.$data.tagsRes[k] === tag) {\r\n\t\t\t\t\tthis.$data.deleteTags.push(tag)\r\n\t\t\t\t\tindex = k\r\n\t\t\t\t\tbreak\r\n\t\t\t\t  }\r\n\t\t\t\t}\r\n\t\t\t\tthis.$data.resTags.splice(indexs, 1)\r\n\t\t\t\tthis.$data.tagList[this.$data.newBankTags.indexOf(tag)].is = false\r\n\t\t\t},\r\n\t\t\tAddTag(index, TagId) {\r\n\t\t\t\t//arr.indexOf(find,start);\r\n\t\t\t\t// console.log(index, TagId)\r\n\t\t\t\t// var resTags = this.$data.RelaTagList\r\n\t\t\t\t// var AllTags = this.$data.tagList\r\n\t\t\t\t// for(let R in AllTags){\r\n\t\t\t\t// \tvar indexTag = AllTags[index].TagId\r\n\t\t\t\t// \tfor(let I in resTags){\r\n\t\t\t\t// \t\tconsole.log(resTags[I].TagId,'res')\r\n\t\t\t\t// \t\tvar res = resTags[I].TagId\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \tconsole.log(res)\r\n\t\t\t\t// \tif (res.indexOf(indexTag) == -1) {\r\n\t\t\t\t// \t\tconsole.log('不等于-1')\r\n\t\t\t\t// \t\tresTags.push(AllTags[index])\r\n\t\t\t\t// \t} else {\r\n\t\t\t\t// \t\tconsole.log('-11')\r\n\t\t\t\t// \t\t// resTags.splice(index,1)\r\n\t\t\t\t// \t\treturn false;\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }\r\n\t\t\t\t\r\n\t\t\t\t// ----------------------------------------------------------------------\r\n\t\t\t\tif(this.$data.resTags.indexOf(TagId) !== -1) {\r\n\t\t\t\t\t// 如果在已有标签数组中，就删除该id，并在页面上表现\r\n\t\t\t\t\tthis.$data.resTags.splice(this.$data.resTags.indexOf(TagId), 1)\r\n\t\t\t\t  if (this.$data.tagsRes.indexOf(TagId) !== -1) {\r\n\t\t\t\t\t  // 如果不在已有标签数组中，表示删除，则push到删除数组中\r\n\t\t\t\t\t  if (this.$data.deleteTags.indexOf(TagId) == -1) {\r\n\t\t\t\t\t\tthis.$data.deleteTags.push(TagId)\r\n\t\t\t\t\t  } else {\r\n\t\t\t\t\t\tthis.$data.deleteTags.splice(this.$data.deleteTags.indexOf(TagId), 1)\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t\t  \r\n\t\t\t\t  } else {\r\n\t\t\t\t\t  // 如果不在已有标签数组中，表示增加，则push到增加数组中\r\n\t\t\t\t\t  if (this.$data.addTags.indexOf(TagId) == -1) {\r\n\t\t\t\t\t\tthis.$data.addTags.push(TagId)\r\n\t\t\t\t\t  } else {\r\n\t\t\t\t\t\tthis.$data.addTags.splice(this.$data.addTags.indexOf(TagId), 1)\r\n\t\t\t\t\t  }\r\n\t\t\t\t  }\r\n\t\t\t\t  // 删除或更改上下两组对象\r\n\t\t\t\t\tfor (let jk in this.$data.RelaTagList) {\r\n\t\t\t\t\t\tif (this.$data.RelaTagList[jk].TagId === TagId) {\r\n\t\t\t\t\t\t\tthis.$data.RelaTagList.splice(jk, 1)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (let j in this.$data.tagList) {\r\n\t\t\t\t\t\tif (this.$data.tagList[j].TagId === TagId) {\r\n\t\t\t\t\t\t\tthis.$data.tagList[j].is = false\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// -------------------------------------------------------------------------\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif (this.$data.resTags.indexOf(TagId) == -1) {\r\n\t\t\t\t  this.$data.resTags.push(TagId)\r\n\t\t\t\t  this.$data.RelaTagList.push(this.$data.tagList[this.$data.newBankTags.indexOf(TagId)])\r\n\t\t\t\t  this.$data.tagList[this.$data.newBankTags.indexOf(TagId)].is = true\r\n\t\t\t\t}\r\n\t\t\t  if (this.$data.tagsRes.indexOf(TagId) == -1) {\r\n\t\t\t\t  if (this.$data.addTags.indexOf(TagId) == -1) {\r\n\t\t\t\t\tthis.$data.addTags.push(TagId)\r\n\t\t\t\t  }\r\n\t\t\t\t\t  \r\n\t\t\t  }\r\n\t\t\t  if (this.$data.deleteTags.indexOf(TagId) !== -1) {\r\n\t\t\t\tthis.$data.deleteTags.splice(this.$data.deleteTags.indexOf(TagId), 1)\r\n\t\t\t  }\r\n\t\t\t},\r\n\t\t\tGetResourcesTag() {\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\turl: 'https://hk.joyfulboo.com/Campus/ResourcesApp/GetResourcesTag',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tresourcesId:this.$data.ResourcesId,\r\n\t\t\t\t\t\tresourcesType:this.$data.ResourcesType\r\n\t\t\t\t\t},\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'content-type': \"application/json\",\r\n\t\t\t\t\t\t'Authorization': uni.getStorageSync('token'),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tlet result = res.data\r\n\t\t\t\t\t\tif (result.Success == true) {\r\n\t\t\t\t\t\t\tthis.$data.tagList = result.Data.AllTagList\r\n\t\t\t\t\t\t\tfor(let Id in this.$data.tagList){\r\n\t\t\t\t\t\t\t\tthis.$data.tagList[Id]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.$data.RelaTagList = result.Data.RelaTagList\r\n\t\t\t\t\t\t\tfor (let i in this.$data.RelaTagList) {\r\n\t\t\t\t\t\t\t  this.$data.resTags.push(this.$data.RelaTagList[i].TagId)\r\n\t\t\t\t\t\t\t  this.$data.tagsRes.push(this.$data.RelaTagList[i].TagId)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tfor (let i in this.$data.tagList) {\r\n\t\t\t\t\t\t\t  this.$data.bankTags.push(this.$data.tagList[i].TagId)\r\n\t\t\t\t\t\t\t  this.$data.newBankTags.push(this.$data.tagList[i].TagId)\r\n\t\t\t\t\t\t\t  for (let k in this.$data.RelaTagList) {\r\n\t\t\t\t\t\t\t\t  if (this.$data.RelaTagList[k].TagId === this.$data.tagList[i].TagId) {\r\n\t\t\t\t\t\t\t\t\t  this.$data.tagList[i].is = true\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: result.Message,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsubmitThis () {\r\n\t\t\t\tlet self = this.$data\r\n\t\t\t\tlet addTags = [...new Set(self.addTags)]\r\n\t\t\t\tlet deleteTags = [...new Set(self.deleteTags )]\r\n\t\t\t\tlet newaddTags = []\r\n\t\t\t\tlet newdeleteTags = []\r\n\t\t\t\t// for (let i in self.resTags) {\r\n\t\t\t\tfor (let k in addTags) {\r\n\t\t\t\t  if (self.tagsRes.indexOf (addTags[k]) === -1) {\r\n\t\t\t\t    newaddTags.push(addTags[k])\r\n\t\t\t\t  }\r\n\t\t\t\t}\r\n\t\t\t\tfor (let j in deleteTags) {\r\n\t\t\t\t  if (self.tagsRes.indexOf(deleteTags[j]) !== -1) {\r\n\t\t\t\t    newdeleteTags.push(deleteTags[j])\r\n\t\t\t\t    if (self.addTags.indexOf(deleteTags[j]) !== -1) {\r\n\t\t\t\t      newdeleteTags.splice(newdeleteTags.indexOf(deleteTags[j]), 1)\r\n\t\t\t\t    }\r\n\t\t\t\t  }\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(newaddTags)\r\n\t\t\t\tconsole.log(newdeleteTags)\r\n\t\t\t\t\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\turl: 'https://hk.joyfulboo.com/Campus/ResourcesApp/SaveResourcesTag',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tResourcesId: self.ResourcesId,\r\n\t\t\t\t\t\tAddTagIds: newaddTags.toString(),\r\n\t\t\t\t\t\tDelTagIds:newdeleteTags.toString(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'content-type': \"application/json\",\r\n\t\t\t\t\t\t'Authorization': uni.getStorageSync('token'),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tlet result = res.data\r\n\t\t\t\t\t\tif (result.Success == true) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '保存成功',\r\n\t\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\twx.navigateBack({\r\n\t\t\t\t\t\t\t\t\tdelta: 1,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},3000)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: result.Message,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t\tonLoad(ops) {\r\n\t\t\tthis.$data.ResourcesId = ops.ResourcesId\r\n\t\t\tthis.$data.ChapterId = ops.ChapterId\r\n\t\t\tthis.$data.ClassId = ops.ClassId\r\n\t\t\tthis.$data.ResourcesType = ops.ResourcesType\r\n\t\t\tthis.GetResourcesTag()\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\t.addFileBox {\r\n\t\t// margin: 30rpx 0;\r\n\t\tz-index: 999;\r\n\t\tposition: fixed;\r\n\t\tbottom: 3%;\r\n\t\tright: 14%;\r\n\t\r\n\t\t.addFileBth {\r\n\t\t\twidth: 275px;\r\n\t\t\theight: 52px;\r\n\t\t\tbackground: rgba(3, 193, 115, 1);\r\n\t\t\tborder-radius: 26px;\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t\tmargin: 0 auto;\r\n\t\t\ttext-align: center;\r\n\t\t\tline-height: 100rpx;\r\n\t\t}\r\n\t}\r\n\t.selectedTag {\r\n\t\tborder: 2upx solid #03C173 !important;\r\n\t\tcolor: #03C173 !important;\r\n\t}\r\n\r\n\t.tabInput {\r\n\t\tbackground-color: #F0F1F3;\r\n\t\twidth: 140rpx;\r\n\t\tpadding: 20rpx 10rpx 20rpx 30rpx;\r\n\t\tborder-radius: 50rpx;\r\n\t\tmargin: 40rpx 0;\r\n\t}\r\n\r\n\t.tagBox {\r\n\t\tmargin-top: 20upx;\r\n\t\tmargin-right: 20upx;\r\n\t\twidth: 180upx;\r\n\t\theight: 80upx;\r\n\t\tborder-radius: 50upx;\r\n\t\tborder: 2upx solid rgba(146, 156, 164, 1);\r\n\t\ttext-align: center;\r\n\t\tline-height: 80upx;\r\n\t\tdisplay: inline-block;\r\n\t\tfont-size: 28upx;\r\n\t\tcolor: #40474E;\r\n\r\n\t\t&:first-child {\r\n\t\t\tmargin-left: 0;\r\n\t\t}\r\n\t}\r\n\r\n\t.addResource_content {\r\n\t\tpadding: 0 30upx;\r\n\t}\r\n\r\n\t/deep/.uni-searchbar__box {\r\n\t\tborder: none;\r\n\t\tborder-style: none !important;\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./editTag.vue?vue&type=style&index=0&id=961bbeb2&lang=less&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./editTag.vue?vue&type=style&index=0&id=961bbeb2&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591089679850\n      var cssReload = require(\"D:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}